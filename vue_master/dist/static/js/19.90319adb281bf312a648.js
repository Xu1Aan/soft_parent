webpackJsonp([19],{"1CPs":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("aA9S"),r=s.n(a),l=s("/xqb"),o={name:"setInfo",props:["objId"],data:function(){return{form:{subject:"",type:"",date:"",time:"",teacher:[],remain:"",address:[]},addressForm:{address:[{key:"1",value:""}]},teachers:[]}},methods:{addAddress:function(){this.addressForm.address.push({value:"",key:Date.now()})},removeAddress:function(e){var t=this.addressForm.address.indexOf(e);-1!==t&&this.addressForm.address.splice(t,1)},onSubmit:function(){var e=this,t=0;this.addressForm.address.forEach(function(s){e.form.address[t++]=s.value}),""!=this.form.subject&&""!=this.form.type&&""!=this.form.date&&""!=this.form.time&&""!=this.form.remain?Object(l.k)(this.form).then(function(t){e.$message({message:t.data.message,type:t.data.success?"success":"error"})}):this.$message("请录入完整信息")},getTeacher:function(){var e=this;Object(l.n)().then(function(t){e.teachers=t.data.data})},onReset:function(){r()(this.$data.form,this.$options.data().form)}},created:function(){this.getTeacher()}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"boxInfo"},[s("div",{staticClass:"formInfo"},[s("div",[s("div",{staticClass:"userInfo"},[s("div",{staticClass:"headInfo clearfix"},[s("div",{staticClass:"headText"},[s("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"考试名称"}},[s("el-input",{staticStyle:{width:"51%"},attrs:{placeholder:"请输入考试名称"},model:{value:e.form.subject,callback:function(t){e.$set(e.form,"subject",t)},expression:"form.subject"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"考试类型"}},[s("el-select",{attrs:{placeholder:"请选择考试类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[s("el-option",{attrs:{label:"公共考试",value:"公共考试"}}),e._v(" "),s("el-option",{attrs:{label:"专业考试",value:"专业考试"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"考试日期"}},[s("el-col",{attrs:{span:12}},[s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","label-width":"100px"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),e._v(" "),s("el-col",{staticClass:"line",attrs:{span:2}},[e._v("考试时间")]),e._v(" "),s("el-col",{attrs:{span:10}},[s("el-time-select",{attrs:{"picker-options":{start:"07:00",step:"00:30",end:"21:00"},"label-width":"100px",placeholder:"选择时间"},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"任课教师"}},[s("el-select",{attrs:{multiple:"",filterable:"",placeholder:"请选择任课教师"},model:{value:e.form.teacher,callback:function(t){e.$set(e.form,"teacher",t)},expression:"form.teacher"}},e._l(e.teachers,function(e){return s("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})}),1)],1),e._v(" "),s("el-form",{ref:"addressForm",staticClass:"demo-dynamic address",attrs:{model:e.addressForm,"label-width":"auto"}},[e._l(e.addressForm.address,function(t,a){return s("el-form-item",{key:t.key,attrs:{label:"考试地点"+a,prop:"address."+a+".value",rules:{required:!0,message:"考试地点不能为空",trigger:"blur"}}},[s("el-input",{staticStyle:{width:"51%"},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"address.value"}}),s("el-button",{on:{click:function(s){return s.preventDefault(),e.removeAddress(t)}}},[e._v("删除")])],1)}),e._v(" "),s("el-form-item",[s("el-button",{on:{click:e.addAddress}},[e._v("新增地址")])],1)],2),e._v(" "),s("el-form-item",{attrs:{label:"监考人数","hide-required-asterisk":""}},[s("el-input-number",{staticStyle:{width:"17%"},attrs:{min:0,label:"监考人数"},model:{value:e.form.remain,callback:function(t){e.$set(e.form,"remain",t)},expression:"form.remain"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即创建")]),e._v(" "),s("el-button",{attrs:{type:"reset"},on:{click:e.onReset}},[e._v("重置")])],1)],1)],1)])])])])])},staticRenderFns:[]};var n=s("C7Lr")(o,i,!1,function(e){s("HSTM"),s("9wqq")},"data-v-76b928aa",null);t.default=n.exports},"9wqq":function(e,t){},HSTM:function(e,t){}});
webpackJsonp([12],{"201o":function(e,t){},"6ECx":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("Q0Ca"),a=s("TIfe"),o={name:"import",props:["baseData"],data:function(){return{resume:"",centerDialogVisible:!1,fileList:[],processing:!1,uploadTip:"点击上传",importFlag:1,errorResults:[],positiveList:[]}},computed:{myheader:function(){return{Authorization:"Bearer "+Object(a.a)()}}},methods:{download:function(){this.$emit("handleExport")},typeTip:function(e){this.$message.error(e)},beforeUpload:function(e,t){Object(i.importFile)(e,t,this.typeTip)},uploadFail:function(e,t,s){this.uploadTip="点击上传",this.processing=!1,this.$message.error(e)},handleFileSuccess:function(e,t,s){console.log(e),this.uploadTip="点击上传",this.processing=!1,this.dialogImportVisible=!1,1e4===e.code?this.$message.success("导入成功!"):this.$message.error("导入失败!")},handleUpload:function(){this.centerDialogVisible=!0}}},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"uploadBox clearfix"},[s("el-upload",{staticClass:"upload-demo upload-text",attrs:{action:e.baseData.upUrl,headers:e.myheader,"before-upload":e.beforeUpload,"on-error":e.uploadFail,"on-success":e.handleFileSuccess,"show-file-list":!1,"file-list":e.fileList}},[s("el-button",{attrs:{size:"small",type:"primary",disabled:e.processing}},[e._v(e._s(e.uploadTip))]),e._v(" "),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("\n      (推荐"),s("span",{staticClass:"colRed pointer"},[s("a",{attrs:{href:e.baseData.fileUrl}},[e._v("下载模板文件")])]),e._v("，填写后上传)"),s("br"),e._v(" "),s("span",{staticClass:"colRed pointer",on:{click:e.handleUpload}},[e._v("点击查看文件上传要求")])])],1),e._v(" "),s("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:e.baseData.upUrl,headers:e.myheader,"before-upload":e.beforeUpload,"on-error":e.uploadFail,"on-success":e.handleFileSuccess,"show-file-list":!1,"file-list":e.fileList}},[s("i",{staticClass:"el-icon-upload"}),e._v(" "),s("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处")])]),e._v(" "),s("el-dialog",{attrs:{title:"文件上传要求",visible:e.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[s("div",{staticClass:"upInfoTip"},[s("p",[s("strong",[e._v("重要提示：")])]),e._v(" "),s("p",[e._v("支持WPS、excel2003以上版本文件")]),e._v(" "),s("p",[e._v("请将要上传的内容放在第一个sheet中")]),e._v(" "),s("p",[e._v("请不要加密模板文件，将导致错误")]),e._v(" "),s("p",[e._v("请不要上传带宏的文件，将导致错误")]),e._v(" "),s("p",[e._v("请不要过多的使用格式，如背景色和边框，将可能导致超时")]),e._v(" "),s("p",[e._v("请将手机号、身份证号、银行卡号等内容设置为文本格式")]),e._v(" "),s("p",[e._v("示例行的内容无需删除，将不会上传到系统中")]),e._v(" "),s("p",[s("strong",[e._v("格式说明：")])]),e._v(" "),s("p",[e._v("聘用形式：只能填写“正式”或“非正式”")]),e._v(" "),s("p",[e._v("部门编码：必须是系统里已存在的部门编码，否则会报错")]),e._v(" "),s("p",[e._v("开户行：至少给出总行名字，最好细化到支行")])])])],1)},staticRenderFns:[]};var r={name:"refortList",components:{importCompon:s("C7Lr")(o,l,!1,function(e){s("mYvn")},null,null).exports},data:function(){return{importCompon:"importCompon",boxHeight:"",baseData:{upUrl:"/api/sys/user/import",fileUrl:"http://research.itcast.cn/files/saas-hrm/添加员工模板.xlsx"}}},methods:{},mounted:function(){},created:function(){this,this.boxHeight=Object(i.minHeight)()},updated:function(){}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dashboard-container"},[s("div",{staticClass:"app-container"},[s("el-card",{staticClass:"rInfo",style:{minHeight:e.boxHeight}},[s("div",[s("div",{staticClass:"infoTip"},["员工"===this.$route.query.name?s("div",[s("h2",{staticClass:"text-center"},[e._v("员工导入")]),e._v(" "),s("el-alert",{attrs:{title:"每次导入仅可添加1000名员工，姓名、手机、入职时间、聘用形式为必填项",type:"warning","show-icon":"",closable:!1}})],1):e._e(),e._v(" "),"考勤"===this.$route.query.name?s("div",[s("h2",{staticClass:"text-center"},[e._v("考勤导入")]),e._v(" "),s("el-alert",{attrs:{title:"如果某员工已有打卡记录，最新上传的不覆盖原有数据。可上传多名员工的打卡记录。每名员工可上传多条记录，同考勤日内取员工第一次和最后一次打卡时间。",type:"warning","show-icon":"",closable:!1}})],1):e._e()]),e._v(" "),s(e.importCompon,{ref:"import",tag:"component",attrs:{baseData:e.baseData}})],1)])],1)])},staticRenderFns:[]};var c=s("C7Lr")(r,n,!1,function(e){s("L+AB"),s("201o")},"data-v-1e8018c9",null);t.default=c.exports},"L+AB":function(e,t){},mYvn:function(e,t){}});
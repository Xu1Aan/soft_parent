webpackJsonp([24,41],{AihV:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("bd2Q"),o=a("/xqb"),l={data:function(){return{roleFormVisible:!1,formBase:{},checkedRoles:[],data:[],roles:[],id:null}},methods:{toAssignPrem:function(e){var t=this;Object(o.e)({id:e}).then(function(a){t.checkedRoles=a.data.data.roleIds,Object(s.d)().then(function(a){t.id=e,t.roles=a.data.data,t.roleFormVisible=!0})})},createData:function(){var e=this;Object(o.b)({id:this.id,roleIds:this.checkedRoles}).then(function(t){e.$message({message:t.data.message,type:t.data.success?"success":"error"}),e.roleFormVisible=!1})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-form"},[a("el-dialog",{staticStyle:{height:"300px"},attrs:{title:"分配角色",visible:e.roleFormVisible},on:{"update:visible":function(t){e.roleFormVisible=t}}},[a("el-form",{staticStyle:{"margin-left":"120px",width:"500px"},attrs:{model:e.formBase,"label-position":"left","label-width":"120px"}},[a("el-checkbox-group",{model:{value:e.checkedRoles,callback:function(t){e.checkedRoles=t},expression:"checkedRoles"}},e._l(e.roles,function(t,s){return a("el-checkbox",{key:s,attrs:{label:t.id}},[e._v(e._s(t.name))])}),1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.createData}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.roleFormVisible=!1}}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]},r=a("C7Lr")(l,n,!1,null,null,null);t.default=r.exports},EXD5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("nOCI"),o=a("/xqb"),l=a("1f1P"),n=a("57ou"),r=a("AihV"),i=a("FAPO"),u=a("5s9g"),c=a("b6Af"),d=(a("uDR4"),{name:"employeesList",components:{PageTool:l.a,employeesAdd:n.default,addRole:r.default,employeesPositive:u.default,employeesSet:c.default},data:function(){return{employeesAdd:"employeesAdd",employeesPositive:"employeesPositive",employeesSet:"employeesSet",addRole:"addRole",baseData:s.a,dataList:[],counts:"",requestParameters:{page:1,size:10}}},methods:{show:function(e){return Object(i.b)(e)},doQuery:function(e){var t=this;Object(o.g)(this.requestParameters).then(function(e){t.dataList=e.data.data.rows,t.counts=e.data.data.total})},handleSizeChange:function(e){this.requestParameters.size=e,1===this.requestParameters.page&&this.doQuery(this.requestParameters)},handleCurrentChange:function(e){this.requestParameters.page=e,this.doQuery()},handlAdd:function(){this.$refs.addUser.dialogFormVisible=!0},handleDelete:function(e){var t=this;this.$confirm("本次操作将删除"+e.username+"删除后账号将不可恢复，您确认删除吗？",{type:"warning"}).then(function(){Object(o.j)({id:e.id}).then(function(e){t.$message({message:e.data.message,type:e.data.success?"success":"error"}),e.data.success&&t.doQuery()})})},handleRole:function(e){this.$refs.addRole.toAssignPrem(e.id)},handlPositive:function(e){this.$refs.positive.dialogFormV(e)}},created:function(){this.doQuery()}}),m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-container"},[a("div",{staticClass:"app-container"},[a("el-card",[a("span",{staticClass:"seleInfo"},[a("el-select",{model:{value:e.requestParameters.stausInfo,callback:function(t){e.$set(e.requestParameters,"stausInfo",t)},expression:"requestParameters.stausInfo"}},e._l(e.baseData.stausInfos,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("span",{staticClass:"posInfo"},[e._v("\n        本月  (--)  \n        "),a("span",[e._v("在职：\n          "),a("em",[e._v("--")])]),e._v(" "),a("span",[e._v("入职：\n          "),a("em",{staticClass:"active"},[e._v("--")])]),e._v(" "),a("span",[e._v("离职：\n          "),a("em",{staticClass:"disabled"},[e._v("--")])])]),e._v(" "),a("div",{staticClass:"fr"},[a("router-link",{staticClass:"el-button el-button--primary el-button--mini",attrs:{to:{path:"/employees/import/",query:{name:"员工"}},title:"导入"}},[e._v("导入")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",title:"设置"}},[e._v("设置")]),e._v(" "),a("router-link",{staticClass:"el-button el-button--primary el-button--mini",attrs:{to:{path:"/employees/archiving/"},title:"历史归档"}},[e._v("历史归档")]),e._v(" "),a("router-link",{staticClass:"el-button el-button--primary el-button--mini",attrs:{to:{path:"/employees/report/1"}}},[e._v("1月份报表")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.handlAdd}},[e._v("新增员工")])],1)]),e._v(" "),a("el-card",{staticClass:"boxMar",attrs:{shadow:"never"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dataList,fit:"",border:""}},[a("el-table-column",{attrs:{type:"index",index:1,label:"序号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"username",label:"姓名",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"mobile",label:"手机号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"workNumber",label:"工号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"formOfEmployment",label:"聘用形势",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"departmentName",label:"部门",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"timeOfEntry",label:"入职时间",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",label:"状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return e.handleStatus(t.row)}},model:{value:t.row.accountStatus,callback:function(a){e.$set(t.row,"accountStatus",a)},expression:"scope.row.accountStatus"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"el-button el-button--text el-button--small",attrs:{to:{path:"/employees/details/"+t.row.id}}},[e._v("\n              查看\n            ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handlPositive(t.row.id)}}},[e._v("转正")]),e._v(" "),a("router-link",{staticClass:"el-button el-button--text el-button--small",attrs:{to:{path:"/employees/adjustPost/"+t.row.id}}},[e._v("\n              调岗\n            ")]),e._v(" "),a("router-link",{staticClass:"el-button el-button--text el-button--small",attrs:{to:{path:"/employees/leave/"+t.row.id}}},[e._v("\n              离职\n            ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleRole(t.row)}}},[e._v("角色")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("PageTool",{attrs:{paginationPage:e.requestParameters.page,paginationPagesize:e.requestParameters.size,total:e.counts},on:{pageChange:e.handleCurrentChange,pageSizeChange:e.handleSizeChange}})],1),e._v(" "),a(e.employeesAdd,{ref:"addUser",tag:"component",on:{doQuery:e.doQuery}}),e._v(" "),a(e.addRole,{ref:"addRole",tag:"component"}),e._v(" "),a(e.employeesPositive,{ref:"positive",tag:"component"})],1)],1)])},staticRenderFns:[]};var p=a("C7Lr")(d,m,!1,function(e){a("iW5A")},"data-v-26a9b02f",null);t.default=p.exports},iW5A:function(e,t){}});
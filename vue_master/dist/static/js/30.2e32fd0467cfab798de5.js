webpackJsonp([30],{H9Py:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("ZLEe"),r=a.n(l),o=a("Q0Ca"),i=a("uDR4"),n={name:"historicalArchiving",components:{},data:function(){return{num:0,tableData:[],counts:"",requestParameters:{page:1,pagesize:10,year:""},loading:!1,showHeight:40,boxHeight:"",baseData:{month:"",type:1,keyword:this.keyword}}},computed:{tables:function(){for(var t=this.baseData.keyword,e=0;e<this.tableData.length;e++){if(!t)return this.tableData[e].contentData;this.tableData[e].contentData.filter(function(e){return r()(e).some(function(a){return String(e[a]).toLowerCase().indexOf(t)>-1})})}}},methods:{init:function(){var t=this;Object(i.e)(this.requestParameters).then(function(e){t.tableData=e.data.items,t.counts=e.data.counts,t.loading=!1}).catch(function(e){console.log(e),t.loading=!1})},openTable:function(t,e){var a=this;this.baseData.month=t.month,t.act?this.$set(this.tableData[e],"act",!1):(Object(i.p)(this.baseData).then(function(t){a.$set(a.tableData[e],"contentData",t.data.items),a.loading=!1}).catch(function(t){t&&console.log(t),a.loading=!1}),this.$set(this.tableData[e],"act",!0))},handleExport:function(t,e){var a=this;this.baseData.type=e,this.baseData.month=t,Object(i.f)(this.baseData).then(function(t){Object(o.getBlob)(t),a.$message.success("导出报表成功！")}).catch(function(t){a.$message.error("导出报表失败！")})},dataSearch:function(){this.openTable(this.baseData)},handleSizeChange:function(t){this.requestParameters.pagesize=t,1===this.requestParameters.page&&_this.init(this.requestParameters)},handleCurrentChange:function(t){this.requestParameters.page=t,_this.init()},handleYear:function(t){null!==this.requestParameters.year&&(this.requestParameters.year=t,this.init(this.requestParameters))},handleClear:function(){this.requestParameters.year="2017",this.init(this.requestParameters)}},mounted:function(){this.init()},created:function(){this.boxHeight=Object(o.minHeight)()}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"historicalArcBox"},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],style:{minHeight:t.boxHeight},attrs:{shadow:"never"}},[a("div",{staticClass:"historicalArcTop"},[a("div",{staticClass:"title"},[a("span",[t._v("员工历史归档")]),t._v(" "),a("div",{staticClass:"yearChange"},[a("el-date-picker",{attrs:{type:"year",size:"mini",width:"130px",placeholder:"选择年","value-format":"yyyy"},on:{change:t.handleYear},model:{value:t.requestParameters.year,callback:function(e){t.$set(t.requestParameters,"year",e)},expression:"requestParameters.year"}})],1)])]),t._v(" "),a("div",{staticClass:"historicalTable"},[0===t.tableData.length?a("div",{staticClass:"warningTip"},[t._v("该年份无归档报表")]):t._e(),t._v(" "),t._l(t.tableData,function(e,l){return a("div",{key:l,staticClass:"itemes"},[a("div",{staticClass:"itemTopLab",class:{act:e.act}},[a("div",{staticClass:"lab",on:{click:function(a){return t.openTable(e,l)}}},[a("i",{staticClass:"fa fa-chevron-right",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("div",[a("p",{staticClass:"title"},[t._v(t._s(e.month)+"员工报表 "),a("span",[t._v(t._s(e.archiveTime))])]),t._v(" "),a("p",{staticClass:"labTit",on:{click:function(a){return t.openTable(e,l)}}},[t._v("员工报表")])]),t._v(" "),a("div",{staticClass:"fr"},[a("div",[a("p",{staticClass:"itemTit"},[a("span",[t._v("总人数")])]),t._v(" "),a("p",{staticClass:"itemNum"},[t._v(t._s(e.totals))])]),t._v(" "),a("div",[a("p",{staticClass:"itemTit"},[a("span",[t._v("在职人数")])]),t._v(" "),a("p",{staticClass:"itemNum"},[t._v(t._s(e.payrolls))])]),t._v(" "),a("div",[a("p",{staticClass:"itemTit"},[a("span",[t._v("离职人数")])]),t._v(" "),a("p",{staticClass:"itemNum"},[t._v(t._s(e.departures))])])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.act,expression:"itemes.act"}],staticClass:"itemDropDown"},[a("div",{staticClass:"topLab"},[a("div",{staticClass:"fr clearfix searchInfo"},[a("div",{staticClass:"serachInput"},[a("el-input",{attrs:{placeholder:"搜索",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.dataSearch()}},model:{value:t.baseData.keyword,callback:function(e){t.$set(t.baseData,"keyword",e)},expression:"baseData.keyword"}})],1),t._v(" "),a("a",{staticClass:"el-button fr el-button--primary el-button--mini",attrs:{title:"导出"},on:{click:function(a){return t.handleExport(e.month,1)}}},[t._v("导出")])])]),t._v(" "),a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{data:t.tables,height:"300",border:""}},[a("el-table-column",{attrs:{prop:"fullName",label:"姓名",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobilePhone",label:"手机",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"onTheJobStatus",label:"在职状态",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dateOfBirth",label:"出生日期",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"theHighestDegreeOfEducation",label:"最高学历",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"nationalArea",label:"国家地区",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"iDNumber",label:"身份证号",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"iDCardPhoto",label:"身份证照片",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"staffPhoto",label:"员工照片",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"birthday",label:"生日",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"zodiac",label:"属相",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"constellation",label:"星座",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"personalMailbox",label:"个人邮箱",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"socialSecurityComputerNumber",label:"社保电脑号",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"providentFundAccount",label:"公积金账号",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"bankCardNumber",label:"银行卡号",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"openingBank",label:"开户行",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"homeCompany",label:"上家公司",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"passportNo",label:"护照号",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"nativePlace",label:"籍贯",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"nation",label:"民族",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"englishName",label:"英文名",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"maritalStatus",label:"婚姻状况",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"bloodType",label:"血型",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"domicile",label:"户籍所在地",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"politicalOutlook",label:"政治面貌",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"timeToJoinTheParty",label:"入党时间",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"archivingOrganization",label:"存档机构",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stateOfChildren",label:"子女状态",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"doChildrenHaveCommercialInsurance",label:"子女有无商业保险",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"isThereAnyViolationOfLawOrDiscipline",label:"有无违法违纪行为",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"areThereAnyMajorMedicalHistories",label:"有无重大病史",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"qQ",label:"QQ",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"weChat",label:"微信",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"residenceCardCity",label:"居住证城市",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dateOfResidencePermit",label:"居住证办理日期",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"residencePermitDeadline",label:"居住证截止日期",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"placeOfResidence",label:"现居住地",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"postalAddress",label:"通讯地址",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contactTheMobilePhone",label:"联系手机",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"emergencyContact",label:"紧急联系人",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"emergencyContactNumber",label:"紧急联系电话",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"educationalType",label:"学历类型",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"graduateSchool",label:"毕业学校",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"enrolmentTime",label:"入学时间",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"graduationTime",label:"毕业时间",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"major",label:"专业",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"graduationCertificate",label:"毕业证书",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"certificateOfAcademicDegree",label:"学位证书",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"职称",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"resume",label:"简历",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"isThereAnyCompetitionRestriction",label:"有无竞业限制",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"proofOfDepartureOfFormerCompany",label:"前公司离职证明",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"remarks",label:"备注",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dateOfEntry",label:"入职日期",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"post",label:"岗位",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"workMailbox",label:"工作邮箱",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"workNumber",label:"工号",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dateOfCorrection",label:"转正日期",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"rank",label:"职级",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"reportingObject",label:"汇报对象",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"hRBP",label:"HRBP",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"formOfEmployment",label:"聘用形式",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"formOfManagement",label:"管理形式",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"adjustmentAge",label:"调整司龄天",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ageOfDivision",label:"司龄",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"workingTimeForTheFirstTime",label:"首次参加工作时间",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"adjustmentOfLengthOfService",label:"调整工龄天",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"workingYears",label:"工龄",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"workingCity",label:"工作城市",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"taxableCity",label:"纳税城市",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"currentContractStartTime",label:"现合同开始时间",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"closingTimeOfCurrentContract",label:"现合同结束时间",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"otherRecruitmentChannels",label:"其他招聘渠道",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"recruitmentChannels",label:"招聘渠道",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"socialRecruitment",label:"社招校招",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"workingPlace",label:"工作地点",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"initialContractStartTime",label:"首次合同开始时间",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"firstContractTerminationTime",label:"首次合同结束时间",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contractPeriod",label:"合同期限",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contractDocuments",label:"合同文件",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"renewalNumber",label:"续签次数",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"recommenderBusinessPeople",label:"推荐企业人",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"firstLevelDepartment",label:"一级部门",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"departmentCode",label:"部门编码",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"leaveDate",label:"离职日期",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stateOfCorrection",label:"转正状态",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"accountStatus",label:"账号状态",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"informationIntegrity",label:"信息完整性",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"directReports",label:"直接下属",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"typeOfTurnover",label:"离职类型",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"reasonsForLeaving",label:"离职原因",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"reasonsForLeaving",label:"申请离职原因",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"departureTime",label:"办理离职时间",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"personalMainCause",label:"个人主因",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"theMainCauseOfTheCompany",label:"公司主因",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"reasonsForPassiveTurnover",label:"被动离职原因",width:"200"}})],1)],1)])}),t._v(" "),0!==t.tableData.length?a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"page-size":t.requestParameters.pagesize,layout:"total, prev, pager, next",total:Number(t.counts)},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()],2)])],1)},staticRenderFns:[]};var c=a("C7Lr")(n,s,!1,function(t){a("vhrp")},"data-v-c0ace032",null);e.default=c.exports},vhrp:function(t,e){}});
webpackJsonp([26],{DWxz:function(e,t){},VxeA:function(e,t){},WwYd:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Q0Ca"),o=a("nOCI"),r=a("uDR4"),n=a("Qwou"),i=a("/xqb"),l=null,u={name:"leaveList",components:{userHead:n.default},data:function(){return{userHead:"userHead",userData:{},baseData:"",boxHeight:"",fileList:[],formBase:{typeOfTurnover:"",resignationTime:"",reasonsForLeaving:"",compensation:"",notifications:"",socialSecurityReductionMonth:"",providentFundReductionMonth:"",surplusAnnualLeave:"",remainder:"",directReports:""},ruleInline:{socialSecurityReductionMonth:[{required:!0,message:"请选社保减员月",trigger:"change"}],providentFundReductionMonth:[{required:!0,message:"请选公积金减员月",trigger:"change"}],resignationTime:[{required:!0,message:"请选择离职时间",trigger:"change"}],typeOfTurnover:[{required:!0,message:"请选择离职类型",trigger:"change"}]}}},methods:{setupUI:function(){this.baseData=o.a,this.boxHeight=Object(s.minHeight)()},getObjInfo:function(){var e=this;Object(r.i)({id:this.$route.params.id}).then(function(t){e.formBase=t.data.data}),i.e({id:this.$route.params.id}).then(function(t){e.userData=t.data.data})},handleClose:function(){},submitData:function(e){var t=this;this.$refs[e].validate(function(e){e?(t.formBase.id=t.$route.params.id,Object(r.h)(t.formBase).then(function(){t.$router.push({path:"/employees/index/"}),t.formBase=""})):l.$Message.error("*号为必填项!")})},handleInput:function(e,t){var a=/^[0-9]*/g,s=/^\d*(\.?\d{0,2})/g;a.test(e)?(1===t&&(this.formBase.compensation=e.match(s)[0]),2===t&&(this.formBase.notifications=e.match(s)[0]),3===t&&(this.formBase.surplusAnnualLeave=e.match(a)[0]),4===t&&(this.formBase.remainder=e.match(/^\d*(\.?\d{0,1})/g)[0])):this.$message.error("请输入正确的数值")}},mounted:function(){},created:function(){l=this,this.setupUI(),this.getObjInfo()},updated:function(){}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-container"},[a("div",{staticClass:"app-container"},[a("el-card",{style:{minHeight:e.boxHeight}},[a("el-breadcrumb",{staticClass:"titInfo ",attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[a("router-link",{attrs:{to:{path:"/employees/index"}}},[e._v("员工管理")])],1),e._v(" "),a("el-breadcrumb-item",[e._v("离职")])],1),e._v(" "),a("h2",{staticClass:"centInfo"},[e._v(e._s(e.formBase.fullName)+"-离职")]),e._v(" "),a("div",{staticClass:"leaveInfo"},[a("el-row",[a("el-col",{attrs:{span:4}},[a(e.userHead,{tag:"component",attrs:{headImg:e.formBase.headPortrait}})],1),e._v(" "),a("el-col",{attrs:{span:20}},[a("div",{staticClass:"headInfo"},[a("p",[a("strong",[e._v(e._s(e.userData.username))])]),e._v(" "),a("p",[a("span",[e._v("手机")]),a("em",[e._v(e._s(e.userData.mobile))]),a("span",[e._v("部门")]),a("em",[e._v(e._s(e.userData.departmentName))])]),e._v(" "),a("p",[a("span",[e._v("入职时间")]),a("em",[e._v(e._s(e.userData.timeOfEntry))])])])])],1)],1),e._v(" "),a("div",[a("el-form",{ref:"dataForm",staticStyle:{"margin-left":"200px",width:"60%"},attrs:{rules:e.ruleInline,model:e.formBase,"label-position":"right","label-width":"120px"}},[a("el-form-item",{attrs:{prop:"typeOfTurnover"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("离职类型：")]),e._v(" "),a("el-select",{staticClass:"filter-item",model:{value:e.formBase.typeOfTurnover,callback:function(t){e.$set(e.formBase,"typeOfTurnover",t)},expression:"formBase.typeOfTurnover"}},e._l(e.baseData.leaveType,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"resignationTime"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("离职时间：")]),e._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.formBase.resignationTime,callback:function(t){e.$set(e.formBase,"resignationTime",t)},expression:"formBase.resignationTime"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"reasonsForLeaving"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("申请离职原因：")]),e._v(" "),a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.formBase.reasonsForLeaving,callback:function(t){e.$set(e.formBase,"reasonsForLeaving",t)},expression:"formBase.reasonsForLeaving"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"compensation"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("补偿金：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formBase.compensation,expression:"formBase.compensation"}],staticClass:"el-input__inner inputW",attrs:{type:"number",placeholder:"大于等于0的数，小数部分最多两位"},domProps:{value:e.formBase.compensation},on:{input:[function(t){t.target.composing||e.$set(e.formBase,"compensation",t.target.value)},function(t){return e.handleInput(e.formBase.compensation,1)}]}}),e._v("  "),a("em",{staticClass:"col999"},[e._v("￥")])]),e._v(" "),a("el-form-item",{attrs:{prop:"notifications"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("代通知金：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formBase.notifications,expression:"formBase.notifications"}],staticClass:"el-input__inner inputW",attrs:{type:"number",placeholder:"大于等于0的数，小数部分最多两位"},domProps:{value:e.formBase.notifications},on:{input:[function(t){t.target.composing||e.$set(e.formBase,"notifications",t.target.value)},function(t){return e.handleInput(e.formBase.notifications,2)}]}}),e._v("  "),a("em",{staticClass:"col999"},[e._v("￥")])]),e._v(" "),a("el-form-item",{attrs:{prop:"socialSecurityReductionMonth"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("社保减员月：")]),e._v(" "),a("el-select",{staticClass:"filter-item",model:{value:e.formBase.socialSecurityReductionMonth,callback:function(t){e.$set(e.formBase,"socialSecurityReductionMonth",t)},expression:"formBase.socialSecurityReductionMonth"}},e._l(e.baseData.attritionMonth,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"providentFundReductionMonth"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("公积金减员月：")]),e._v(" "),a("el-select",{staticClass:"filter-item",model:{value:e.formBase.providentFundReductionMonth,callback:function(t){e.$set(e.formBase,"providentFundReductionMonth",t)},expression:"formBase.providentFundReductionMonth"}},e._l(e.baseData.attritionMonth,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"surplusAnnualLeave"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("剩余年假：")]),e._v(" "),a("el-input",{staticClass:"inputW",attrs:{placeholder:"0",disabled:""},model:{value:e.formBase.surplusAnnualLeave,callback:function(t){e.$set(e.formBase,"surplusAnnualLeave",t)},expression:"formBase.surplusAnnualLeave"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"remainder"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("剩余调休：")]),e._v(" "),a("el-input",{staticClass:"inputW",attrs:{placeholder:"0",disabled:""},model:{value:e.formBase.remainder,callback:function(t){e.$set(e.formBase,"remainder",t)},expression:"formBase.remainder"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitData("dataForm")}}},[e._v("提交")]),e._v(" "),a("router-link",{staticClass:"el-button el-button--default el-button--medium",attrs:{to:{path:"/employees/index"}}},[e._v("返回")])],1)],1)],1)],1)])},staticRenderFns:[]};var c=a("C7Lr")(u,m,!1,function(e){a("VxeA"),a("DWxz")},"data-v-03e7c6ec",null);t.default=c.exports}});